<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Rabbit Chicken AK47</title>
  <script src="js/aframe-v0.5.0.js"></script>
  <!-- components -->
  <script src="js/aframe-animation-component.js"></script>
  <script src="js/aframe-extras.js"></script>
  <script src="js/aframe-spawner-component.js"></script>
  <script src="js/aframe-projectile-component.js"></script>
  <script src="js/aframe-collider-component.js"></script>
  <script src="js/aframe-click-listener-component.js"></script>
  <script src="js/aframe-event-set-component.js"></script>
  <script src="js/follower.js"></script>
  <script src="js/controller.js"></script>
</head>
<body>
  <a-scene>
    <a-assets>
      <a-asset-item id="mod_rabbit" src="assets/models/rabbit-lowpoly.dae"></a-asset-item>
      <a-asset-item id="mod_chick" src="assets/models/chick-lowpoly.dae"></a-asset-item>
      <a-asset-item id="mod_tree" src="assets/models/naturePack_168.obj"></a-asset-item>
      <a-asset-item id="mat_tree" src="assets/models/naturePack_168.mtl"></a-asset-item>
      <a-asset-item id="mod_nurse" src="assets/models/chr_nurse.dae"></a-asset-item>
    </a-assets>

    <a-entity id="avatar" bunny-controls position="0 0 -1">
      <a-entity id="rabbit" scale="0.3 0.3 0.3" rotation="0 90 0"
      position="0 0 -4" collada-model="#mod_rabbit"></a-entity>
    </a-entity>

    <a-entity id="player" position="0 0 3.8" follow="target: #avatar">
      <a-camera wasd-controls="enabled: false">
        <a-entity id="cursor" cursor="fuseTimeout: 1500"
        raycaster="objects: .clickable"
        position="0 0 -1"
        geometry="primitive: ring; radiusOuter: 0.03; radiusInner: 0.02;"
        material="color: white; shader: flat"
        event-set__1="_event: mouseenter; material.color: limegreen"
        event-set__2="_event: mouseleave; material.color: white">
        <a-animation begin="click" easing="ease-in" attribute="scale" fill="backwards" dur="200" from="0.2 0.2 0.2" to="1 1 1"></a-animation>
        <a-animation begin="cursor-fusing" easing="ease-in" attribute="scale" dur="1500" fill="forwards" from="1 1 1" to="0.2 0.2 0.2"></a-animation>
      </a-entity>
    </a-camera>
  </a-entity>

  <a-box width="15" depth="25" height="80">
    <a-entity position="0 -1 0">
      <a-ocean width="15" depth="25" density="15" speed="2"></a-ocean>
    </a-entity>
  </a-entity>

  <a-sky color="#0303DE"></a-sky>

</a-scene>
<script>
let scene = document.querySelector('a-scene');

if (scene.hasLoaded) {
  run();
} else {
  scene.addEventListener('loaded', run);
}

function run() {

}
</script>

</body>
</html>
